<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Vapspace:  Fichier source de vapspace/vaplib/IniData.class.php</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Vapspace
   </div>
   <div id="projectbrief">Système d&#39;échanges pour organiser un autostop.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Recherche');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Page&#160;principale</span></a></li>
      <li><a href="../../pages.html"><span>Pages&#160;associées</span></a></li>
      <li><a href="../../annotated.html"><span>Structures&#160;de&#160;données</span></a></li>
      <li class="current"><a href="../../files.html"><span>Fichiers</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Recherche" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>Liste&#160;des&#160;fichiers</span></a></li>
      <li><a href="../../globals.html"><span>Variables&#160;globale</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d9/d30/_ini_data_8class_8php_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>Tout</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Structures de données</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Espaces de nommage</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Fichiers</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Fonctions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">IniData.class.php</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d9/d30/_ini_data_8class_8php.html">Aller à la documentation de ce fichier.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;?php </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;include_once(<span class="stringliteral">&#39;UniConnect.class.php&#39;</span>);</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html">   25</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../d9/d12/class_ini_data.html">IniData</a> <span class="keyword">extends</span> <a class="code" href="../../df/d0a/class_uni_connect.html">UniConnect</a></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;{</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  <span class="comment">// Les attributs de la classe:   </span></div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a3a309782f419ed086612c58141181d29">   28</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a3a309782f419ed086612c58141181d29">$arrayStatuts</a> = array();      </div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#ab0d9d34c94832a4e0521aa824425c221">   29</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#ab0d9d34c94832a4e0521aa824425c221">$arrayContextes</a> = array();    </div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a2bf668097a6ffbe2070ba264c316debb">   30</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a2bf668097a6ffbe2070ba264c316debb">$bd</a>;                          </div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a99fdcaa9eb8619235704c729a2f14118">   31</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a99fdcaa9eb8619235704c729a2f14118">$clesDataContexte</a> = array();  </div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a9e2129648d3b2c589f300c5f95e86598">   32</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a9e2129648d3b2c589f300c5f95e86598">$contexte</a>;                    </div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#aab71b854b74293be269682b283839478">   33</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#aab71b854b74293be269682b283839478">$dataContexte</a> = array();      </div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#ad71ca8a1276418b2ef69aacadfe5ff31">   34</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#ad71ca8a1276418b2ef69aacadfe5ff31">$dataOblig</a> = array();         </div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#ad3e47d712fcaf6b7892452c9b808ee2e">   35</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#ad3e47d712fcaf6b7892452c9b808ee2e">$dataFacul</a> = array();         </div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a8bab3c9f042caa7e8d7c94d076157645">   36</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a8bab3c9f042caa7e8d7c94d076157645">$dataVue</a> = array();           </div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a631ea83fd163ed7d847b62dd49fa8672">   37</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a631ea83fd163ed7d847b62dd49fa8672">$dynTables</a> = array();         </div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a9c26d7834a249fcf05fc02cbf891b477">   38</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a9c26d7834a249fcf05fc02cbf891b477">$dynPK</a> = array();             </div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a55334d5857fa4f26ff09bd6f657befbb">   39</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a55334d5857fa4f26ff09bd6f657befbb">$dynFK</a> = <span class="stringliteral">&#39;&#39;</span>;                  </div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#ae0b85de282511a9fc42d8eff4f7b4f92">   40</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#ae0b85de282511a9fc42d8eff4f7b4f92">$dynFKP</a>=<span class="stringliteral">&#39;&#39;</span>;                   </div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a216cc1d1b14328fd3f7f27a7a8cfae67">   41</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a216cc1d1b14328fd3f7f27a7a8cfae67">$fileTable</a> = <span class="stringliteral">&#39;&#39;</span>;              </div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a3947197afbe1f1849e2911d4abc46c74">   42</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a3947197afbe1f1849e2911d4abc46c74">$extraTable</a> = array();        </div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#aa5debdb64b07c259f3406f90e8c331ea">   43</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#aa5debdb64b07c259f3406f90e8c331ea">$extraFK</a> = array();           </div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#ac26e45b5f75e7d33ce8f176ddd08ffb9">   44</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#ac26e45b5f75e7d33ce8f176ddd08ffb9">$extraFKP</a> = array();          </div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#ad54ba8826afcbe4fe17984963fddfb1d">   45</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#ad54ba8826afcbe4fe17984963fddfb1d">$fileStatiqueTable</a> = <span class="stringliteral">&#39;&#39;</span>;      </div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#abe3762d7c9c72715627199932541c08f">   46</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#abe3762d7c9c72715627199932541c08f">$fileStatiqueData</a> = <span class="stringliteral">&#39;&#39;</span>;       </div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a529c9e5836fca66d48f6eaf007f56457">   47</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a529c9e5836fca66d48f6eaf007f56457">$filePassiveTable</a> = <span class="stringliteral">&#39;&#39;</span>;       </div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a68bf707cbd1fde4dfb74419cc60bf96c">   48</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a68bf707cbd1fde4dfb74419cc60bf96c">$filePassiveData</a> = <span class="stringliteral">&#39;&#39;</span>;        </div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a06f7f26bd358d3e45330b3dd51c76ecb">   49</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a06f7f26bd358d3e45330b3dd51c76ecb">$fileContexte</a> = <span class="stringliteral">&#39;&#39;</span>;           </div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a3fadbb881584abd6f3575eb296c42924">   50</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a3fadbb881584abd6f3575eb296c42924">$fileDataContexte</a> = <span class="stringliteral">&#39;&#39;</span>;       </div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a52afd0a4d355f8802d3cea43b7a172a6">   51</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a52afd0a4d355f8802d3cea43b7a172a6">$fileLiaisonTable</a> = <span class="stringliteral">&#39;&#39;</span>;       </div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#ace1165fae641144573fc8fbf82bdade3">   52</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#ace1165fae641144573fc8fbf82bdade3">$haCont</a> = <span class="stringliteral">&#39;&#39;</span>;                 </div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#abdab766bdc77a6e7b40b5249decab120">   53</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#abdab766bdc77a6e7b40b5249decab120">$haReg</a> = <span class="stringliteral">&#39;&#39;</span>;                  </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#aa8e9751490a4545746ed011c518d5759">   54</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#aa8e9751490a4545746ed011c518d5759">$liaisonTable</a> = <span class="stringliteral">&#39;&#39;</span>;           </div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#ad7a20d4e86db05b62827a003e27f5e15">   55</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#ad7a20d4e86db05b62827a003e27f5e15">$liaisonFK</a> = array();         </div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a0d32207b561cb806872adefb97f69540">   56</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a0d32207b561cb806872adefb97f69540">$liaisonFKP</a> = array();        </div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#aa9ac7474dbd809348ee3d4c0b66f1788">   57</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#aa9ac7474dbd809348ee3d4c0b66f1788">$liaisonChamps</a> = array();     </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a8a13ab8c18f7a9c8660993c7335501d5">   58</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a8a13ab8c18f7a9c8660993c7335501d5">$liaisonValeurs</a> = <span class="stringliteral">&#39;&#39;</span>;         </div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a2d400f9e08272d8d42df32717d0217e4">   59</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a2d400f9e08272d8d42df32717d0217e4">$liensCles</a> = array();         </div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a983be9b57ec2c070c3e0b33a07a2e88f">   60</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a983be9b57ec2c070c3e0b33a07a2e88f">$masques</a> = array();           </div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#ad97b9981252562f2f57c324149691c1f">   61</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#ad97b9981252562f2f57c324149691c1f">$mailCont</a> = <span class="stringliteral">&#39;&#39;</span>;               </div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#ac2d92fa0847669f395ba2c555c557c2d">   62</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#ac2d92fa0847669f395ba2c555c557c2d">$PPK</a> = <span class="stringliteral">&#39;&#39;</span>;                    </div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#ab2d06606f3d9ad274007d4b33485a663">   63</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#ab2d06606f3d9ad274007d4b33485a663">$passiveTable</a>=<span class="stringliteral">&#39;&#39;</span>;             </div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#ae572776b19bbc29b205736b34f72db3c">   64</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#ae572776b19bbc29b205736b34f72db3c">$passiveChamps</a> = array();     </div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#af1aee25498a6fa8c839d6a5eedf0f49c">   65</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#af1aee25498a6fa8c839d6a5eedf0f49c">$passivePK</a>=<span class="stringliteral">&#39;&#39;</span>;                </div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#af9c3fd549f89221a04075cec0f625a7a">   66</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#af9c3fd549f89221a04075cec0f625a7a">$schema</a> = array();            </div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#ad6e0c7909b628206252859cf1d28d963">   67</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#ad6e0c7909b628206252859cf1d28d963">$schemaLiaison</a>= array();      </div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a74d06b0888431920db3db9dab278994c">   68</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a74d06b0888431920db3db9dab278994c">$schemaPassive</a>=array();       </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a6238323dd43b638cc3249cfd624b7bf0">   69</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a6238323dd43b638cc3249cfd624b7bf0">$schemaStatique</a>=array();      </div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a7514b56e424ed4485a4042e2a3e0ae70">   70</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a7514b56e424ed4485a4042e2a3e0ae70">$schemaDataStatique</a> = array();</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#af43b62b0f49c24eb4cb4ee5d9a1e4743">   71</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#af43b62b0f49c24eb4cb4ee5d9a1e4743">$schemaDataPassive</a>=array();   </div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a224bac6bff01494b4097e3e4f23b6537">   72</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a224bac6bff01494b4097e3e4f23b6537">$statut</a>;                      </div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#aba916688b0ed25a5ce09e801581a3fb4">   73</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#aba916688b0ed25a5ce09e801581a3fb4">$statiqueTable</a> = <span class="stringliteral">&#39;&#39;</span>;          </div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a3263e3777aa60ccc25bdfebfb8cffac0">   74</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a3263e3777aa60ccc25bdfebfb8cffac0">$statiqueChamps</a> = <span class="stringliteral">&#39;&#39;</span>;         </div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a2e0d4a847d634fed744302612c833df5">   75</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a2e0d4a847d634fed744302612c833df5">$statiquePK</a> = <span class="stringliteral">&#39;&#39;</span>;             </div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a58606f8666f130e28679424c20e5448f">   76</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#a58606f8666f130e28679424c20e5448f">$statiqueValeurs</a> = array();   </div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#ab4a8e3a3199135154e97e1edd420e78a">   77</a></span>&#160;  <span class="keyword">protected</span> <a class="code" href="../../d9/d12/class_ini_data.html#ab4a8e3a3199135154e97e1edd420e78a">$table</a> = <span class="stringliteral">&#39;&#39;</span> ;                 </div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#aed704d9e07f57d8f6be19acd510c0b9f">   89</a></span>&#160;  <span class="keyword">function</span>  <a class="code" href="../../d9/d12/class_ini_data.html#aed704d9e07f57d8f6be19acd510c0b9f">__construct</a>(<a class="code" href="../../d9/d12/class_ini_data.html#a9e2129648d3b2c589f300c5f95e86598">$contexte</a>=NULL,<a class="code" href="../../d9/d12/class_ini_data.html#a224bac6bff01494b4097e3e4f23b6537">$statut</a>=NULL)</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  {   </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    $this-&gt;contexte = <a class="code" href="../../d9/d12/class_ini_data.html#a9e2129648d3b2c589f300c5f95e86598">$contexte</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    $this-&gt;statut = <a class="code" href="../../d9/d12/class_ini_data.html#a224bac6bff01494b4097e3e4f23b6537">$statut</a>; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    $this-&gt;arrayStatuts = array(<span class="stringliteral">&#39;anonym&#39;</span>,<span class="stringliteral">&#39;membre&#39;</span>,<span class="stringliteral">&#39;responsable&#39;</span>,<span class="stringliteral">&#39;admin&#39;</span>);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    $this-&gt;arrayContextes = array(<span class="stringliteral">&#39;Membre&#39;</span>,<span class="stringliteral">&#39;Antenne&#39;</span>,<span class="stringliteral">&#39;Region&#39;</span>,<span class="stringliteral">&#39;Chat&#39;</span>,<span class="stringliteral">&#39;Sponsor&#39;</span>,<span class="stringliteral">&#39;News&#39;</span>,<span class="stringliteral">&#39;File&#39;</span>,<span class="stringliteral">&#39;Auth&#39;</span>,<span class="stringliteral">&#39;Index&#39;</span>,<span class="stringliteral">&#39;Help&#39;</span>,<span class="stringliteral">&#39;Test&#39;</span>,<span class="stringliteral">&#39;Passage&#39;</span>,<span class="stringliteral">&#39;Trajet&#39;</span>,<span class="stringliteral">&#39;Install&#39;</span>); </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">// C&#39;est l&#39;installateur qui initie le fichier dsn.php</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">if</span> (!file_exists(DIRLIB.<span class="stringliteral">&#39;dsn.php&#39;</span>)) { </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      $this-&gt;bd = NULL; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">else</span> { </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      $this-&gt;bd = <a class="code" href="../../df/d0a/class_uni_connect.html#abefffd135454315cee29d6f485444d8d">UniConnect::getInstance</a>(); </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }     </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="comment">// Chargement du contexte si les paramètres sont fournis</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d12/class_ini_data.html#a9e2129648d3b2c589f300c5f95e86598">$contexte</a> !== NULL &amp;&amp; <a class="code" href="../../d9/d12/class_ini_data.html#a224bac6bff01494b4097e3e4f23b6537">$statut</a> !== NULL) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      $this-&gt;dataContexte = $this-&gt;<a class="code" href="../../d9/d12/class_ini_data.html#a08f4ea96fa476dd39b052f5d7ae5810a">chargerContexte</a>($this&gt;contexte,$this-&gt;statut);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;   </div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a95f6a1ff12baa5a230498301f50fbcde">  116</a></span>&#160;  <span class="keyword">private</span> <span class="keyword">function</span> <a class="code" href="../../d9/d12/class_ini_data.html#a95f6a1ff12baa5a230498301f50fbcde">chargerMasques</a>(<a class="code" href="../../d9/d12/class_ini_data.html#ab4a8e3a3199135154e97e1edd420e78a">$table</a>)</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  {    </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    require(<span class="stringliteral">&#39;libRgx.php&#39;</span>);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    $colo = $regex = <a class="code" href="../../d9/d12/class_ini_data.html#a983be9b57ec2c070c3e0b33a07a2e88f">$masques</a> = $tabSql = array();</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    $fileSqlIni = DIRCONTEXTE.<span class="stringliteral">&quot;Sql.ini&quot;</span>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    $tabSql = parse_ini_file($fileSqlIni,TRUE);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">switch</span>(<a class="code" href="../../d9/d12/class_ini_data.html#ab4a8e3a3199135154e97e1edd420e78a">$table</a>) {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <span class="keywordflow">case</span> T_HUM: $sqlIni=<span class="stringliteral">&#39;sqlHum&#39;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      <span class="keywordflow">case</span> T_CORE:; $sqlIni=<span class="stringliteral">&#39;sqlCore&#39;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      <span class="keywordflow">case</span> T_SOC : $sqlIni=<span class="stringliteral">&#39;sqlTranspu&#39;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      <span class="keywordflow">case</span> T_HUM_SOC: $sqlIni=<span class="stringliteral">&#39;sqlMobi&#39;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <span class="keywordflow">case</span> T_ANT: $sqlIni=<span class="stringliteral">&#39;sqlAnt&#39;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <span class="keywordflow">case</span> T_CHAT:$sqlIni=<span class="stringliteral">&#39;sqlChat&#39;</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      <span class="keywordflow">case</span> T_NEWS:$sqlIni=<span class="stringliteral">&#39;sqlNews&#39;</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">case</span> T_REG:$sqlIni=<span class="stringliteral">&#39;sqlRegions&#39;</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      <span class="keywordflow">case</span> T_LOAD:$sqlIni=<span class="stringliteral">&#39;sqlFile&#39;</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <span class="keywordflow">case</span> T_MEET:$sqlIni=<span class="stringliteral">&#39;sqlPassage&#39;</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <span class="keywordflow">case</span> T_ROUTE:$sqlIni=<span class="stringliteral">&#39;sqlTrajet&#39;</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      <span class="keywordflow">default</span>: <span class="keywordflow">throw</span> <span class="keyword">new</span> MyPhpException(<span class="stringliteral">&#39;chargermasques : table : &#39;</span>.<a class="code" href="../../d9/d12/class_ini_data.html#ab4a8e3a3199135154e97e1edd420e78a">$table</a>.<span class="stringliteral">&#39; inexistante&#39;</span>);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    } </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    $colo = explode(<span class="stringliteral">&quot;,&quot;</span>,$tabSql[$sqlIni][<span class="stringliteral">&#39;colonnes&#39;</span>]);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    $regex = explode(<span class="stringliteral">&quot;,&quot;</span>,$tabSql[$sqlIni][<span class="stringliteral">&#39;rgx&#39;</span>]);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">foreach</span>($colo as $cpt=&gt;$nomCol) {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <a class="code" href="../../d9/d12/class_ini_data.html#a983be9b57ec2c070c3e0b33a07a2e88f">$masques</a>[$nomCol] = ${$regex[$cpt]};</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/d12/class_ini_data.html#a983be9b57ec2c070c3e0b33a07a2e88f">$masques</a>; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  }   </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#afe780333b8bcd415418851996ef8fc66">  158</a></span>&#160;  <span class="keyword">private</span> <span class="keyword">function</span> <a class="code" href="../../d9/d12/class_ini_data.html#afe780333b8bcd415418851996ef8fc66">showColumns</a>($nom_table)</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  {  </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    $ini = $tab = $inischema = array();   </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    $x = $y = $off = 0;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    $on = -1;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    $this-&gt;table = $nom_table;  </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment">//calcul des données (mono-tables) </span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    $sqlmeta = <span class="stringliteral">&quot;SHOW COLUMNS FROM &quot;</span>.$this-&gt;table;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    $stmt = $this-&gt;bd-&gt;query($sqlmeta); </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">while</span> ($tab = $stmt-&gt;fetch())</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        $drapFK = $drapExtra = 0;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="comment">//attribution de FIELD (nom colonne)            </span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        $ini[$x] = <span class="stringliteral">&quot;[&quot;</span>.$tab[0].<span class="stringliteral">&quot;]&quot;</span>; $x++;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="comment">//attribution de la longueur colonne, extraite de Type (pour integer, char et varchar)</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordflow">if</span>(preg_match(<span class="stringliteral">&#39;#(?&lt;=[rt]\()([0-9]+)(?=\))#&#39;</span>,$tab[1],$matches)) { $long = $matches[0];}</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        elseif($tab[1] == <span class="stringliteral">&#39;date&#39;</span>) { $long = 12; }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        elseif($tab[1] == <span class="stringliteral">&#39;timestamp&#39;</span>) { $long = 20; }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        elseif($tab[1] == <span class="stringliteral">&#39;text&#39;</span>) { $long = 65000; } </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="keywordflow">else</span> { $long = <span class="stringliteral">&#39;non&#39;</span>; }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        $ini[$x] = <span class="stringliteral">&quot;longueur=&quot;</span>.$long; $x++; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="comment">//attribution du type (sans sa longueur)</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        $type = preg_replace(<span class="stringliteral">&#39;#(?&lt;=[rt])\([0-9]+\)#&#39;</span>,<span class="charliteral">&#39; &#39;</span>,$tab[1]);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        $ini[$x] = <span class="stringliteral">&quot;type=&quot;</span>.$type; $x++;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="comment">//attribution de clePrimaire et reconnaissance de la Principal Primary Key (PPK) </span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordflow">if</span> ($tab[3] == <span class="stringliteral">&#39;PRI&#39;</span>) { $PK  = 1; }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">else</span> { $PK  = 0; }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        $ini[$x]=<span class="stringliteral">&#39;clePrimaire=&#39;</span>.$PK; $x++;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="comment">//detection et structuration si column est une cleSecondaires (FK),  </span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keywordflow">if</span> (!empty($this-&gt;liensCles)){</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;          <span class="keywordflow">foreach</span> ($this-&gt;liensCles as $nomcle=&gt;$ptcle){</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            <span class="keywordflow">if</span> ($nomcle == $tab[0]){</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;              $fkdyn = $ptcle;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;              $drapFK = 1;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;          }  </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        $ini[$x] = <span class="stringliteral">&#39;cleSecondaire=&#39;</span>.$drapFK; $x++;                 </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keywordflow">if</span> ($drapFK) { $ini[$x] = <span class="stringliteral">&#39;cleSecondaireRelie=&#39;</span>.$fkdyn; $x++; } </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="comment">//attribution de Default: </span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordflow">if</span> (($tab[4] === <span class="stringliteral">&#39;&#39;</span>) || ($tab[4] === NULL)) {   $def = <span class="charliteral">&#39; &#39;</span>;}</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="keywordflow">else</span> {  $def = $tab[4]; }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        $ini[$x]=<span class="stringliteral">&#39;default=&#39;</span>.$def;$x++;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;         </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="comment">//preparation de oblig</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        $ini[$x]=<span class="stringliteral">&#39;oblig=0&#39;</span>;$x++;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        $ini[$x]=<span class="stringliteral">&#39;possible=0&#39;</span>;$x++;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="comment">//preparer le champ masque : une regex lié à la colonne:</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        $ini[$x]=<span class="stringliteral">&#39;masque=1&#39;</span>; $x++;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="comment">//ecriture, finalisation, nettoyage  </span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    $iniSchema =  $this-&gt;<a class="code" href="../../d9/d12/class_ini_data.html#ac3831dddb87a21ae72c0059c3d57a5f6">ecriture</a>($this-&gt;fileTable,$ini);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    $stmt = NULL;$tab = array();$ini = array();</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">return</span> $iniSchema;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a7567dda7ef818afe87508fd5ffc5a32e">  230</a></span>&#160;  <span class="keyword">private</span> <span class="keyword">function</span> <a class="code" href="../../d9/d12/class_ini_data.html#a7567dda7ef818afe87508fd5ffc5a32e">calculDataStatique</a>(<a class="code" href="../../d9/d12/class_ini_data.html#ab4a8e3a3199135154e97e1edd420e78a">$table</a>,$tableau,$fichier)</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  {  </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    $ini = $inischema = $sortie = array(); </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    $x = 0; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    $colonnes = $this-&gt;statiqueChamps.<span class="charliteral">&#39;,&#39;</span>.<a class="code" href="../../d9/d12/class_ini_data.html#a2e0d4a847d634fed744302612c833df5">$this-&gt;statiquePK</a>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    $titre = <a class="code" href="../../d9/d12/class_ini_data.html#a3263e3777aa60ccc25bdfebfb8cffac0">$this-&gt;statiqueChamps</a>; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    $cleLigne = <a class="code" href="../../d9/d12/class_ini_data.html#a2e0d4a847d634fed744302612c833df5">$this-&gt;statiquePK</a>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="comment">//si nécessaire, sérialiser [statique][valeurs] et [liaison][champ]  </span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">if</span> (!empty($this-&gt;liaisonValeurs)){ $name = implode(<span class="stringliteral">&quot;,&quot;</span>,$this-&gt;statiqueValeurs);}</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">else</span> { $name = NULL;}  </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">if</span>(!empty($this-&gt;liaisonChamps)){ $name2tab = implode(<span class="stringliteral">&quot;,&quot;</span>,$this-&gt;liaisonChamps);} </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">else</span> {  $name2tab = NULL;}      </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="comment">// requete sql et calculs </span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    $sql = <span class="stringliteral">&quot;SELECT  $colonnes  FROM  $table &quot;</span>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    $stmt = $this-&gt;bd-&gt;query($sql);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">while</span> ($rslt = $stmt-&gt;fetch(PDO::FETCH_OBJ)){ </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <span class="comment">//la valeur du titre est la valeur du nom de la colonne statique</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      $valTitre = $rslt-&gt;$titre;      </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      $valTitre = $this-&gt;<a class="code" href="../../d9/d12/class_ini_data.html#ad87025ddebbedbc62a6d535b95897a9c">aposentite</a>($valTitre); </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <span class="comment">//creation du fichierData.ini: relier les donnees de [statique][valeurs] aux valeurs de liaison  </span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      <span class="comment">//ligne 266: le chiffre magique 1 defini la cle FK qui pointe vers la PK statique </span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <span class="comment">//TODO remplacer ce chiffre magique par des champs FKDYN et FKSTAT</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      <span class="comment">//Ceci serait une solution générale plus rationelle à l&#39;astuce de correspondance horizontale ...</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      $ini[$x] = <span class="stringliteral">&quot;[&quot;</span>.$valTitre.<span class="stringliteral">&quot;]&quot;</span> ; $x++;       </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      $ini[$x] = <span class="stringliteral">&quot;data=statique&quot;</span>;$x++;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      $ini[$x] = <span class="stringliteral">&quot;tableLiaison=&quot;</span>.$this-&gt;liaisonTable;$x++;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      $ini[$x] = <span class="stringliteral">&quot;cleLiaison=&quot;</span>.$this-&gt;liaisonFK[1];$x++;    </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      $ini[$x] = <span class="stringliteral">&quot;valCleLiaison=&quot;</span>.$rslt-&gt;$cleLigne;$x++;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <span class="comment">// Si il y a une chaine issue de [statique][valeurs], établir la colonne [liaison][champ]ad hoc</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <span class="keywordflow">if</span> (!empty($name)){</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        $ini[$x] = <span class="stringliteral">&quot;valeurs=&quot;</span>.$name;$x++;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        $ini[$x] = <span class="stringliteral">&quot;champsLienValeur=&quot;</span>.$name2tab;$x++;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      } </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <span class="comment">//ce qui suit provient de $tableau, le schema sql de la table.        </span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      $ini[$x] = <span class="stringliteral">&quot;longueur=&quot;</span>.$tableau[$titre][<span class="stringliteral">&quot;longueur&quot;</span>]; $x++;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      $ini[$x] = <span class="stringliteral">&quot;type=&quot;</span>.$tableau[$titre][<span class="stringliteral">&quot;type&quot;</span>]; $x++;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      $ini[$x] = <span class="stringliteral">&#39;clePrimaire=0&#39;</span>; $x++;   </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      $ini[$x] = <span class="stringliteral">&#39;default=&#39;</span>.$tableau[$titre][<span class="stringliteral">&quot;default&quot;</span>];$x++;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      $ini[$x] = <span class="stringliteral">&#39;oblig=0&#39;</span>;$x++;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      $ini[$x] = <span class="stringliteral">&#39;possible=1&#39;</span>;$x++; <span class="comment">//les champs extras sont facultatifs </span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      $ini[$x] = <span class="stringliteral">&#39;masque=statique&#39;</span>; $x++;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    $sortie = $this-&gt;<a class="code" href="../../d9/d12/class_ini_data.html#ac3831dddb87a21ae72c0059c3d57a5f6">ecriture</a>($fichier,$ini);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    $stmt = NULL ; $ini = array();    </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">return</span> $sortie;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  } </div>
<div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#ad87025ddebbedbc62a6d535b95897a9c">  282</a></span>&#160;  <span class="keyword">private</span> <span class="keyword">function</span> <a class="code" href="../../d9/d12/class_ini_data.html#ad87025ddebbedbc62a6d535b95897a9c">aposentite</a>($chaine)</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    $chaine = strval($chaine);    </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">if</span> ($posApos = strpos($chaine,<span class="stringliteral">&quot;&amp;&quot;</span>)){    <span class="comment">//repère les apostrophes entitisées</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      $chaine = htmlspecialchars_decode($chaine,ENT_QUOTES);          </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      $chaine = str_replace(<span class="stringliteral">&quot;&#39;&quot;</span>,<span class="stringliteral">&#39;&quot;\&#39;&quot;&#39;</span>,$chaine);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">return</span> $chaine;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  </div>
<div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#adf55facb516d584775e31602eb222bb7">  297</a></span>&#160;  <span class="keyword">private</span> <span class="keyword">function</span> <a class="code" href="../../d9/d12/class_ini_data.html#adf55facb516d584775e31602eb222bb7">calculDataPassive</a>(<a class="code" href="../../d9/d12/class_ini_data.html#ab4a8e3a3199135154e97e1edd420e78a">$table</a>,$fichier)    <span class="comment">//($table,$tableau,$fichier)</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  {  </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    $ligne = $column = $ini = $inischema = $sortie = array();</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    $x = $y = 0; </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    $passiveline = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    $colonnes = implode(<span class="charliteral">&#39;,&#39;</span>,$this-&gt;passiveChamps); </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    $compt = count($this-&gt;passiveChamps);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="comment">// requete sql et calculs:</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="comment">// boucle while : selection ligne par ligne de la table </span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="comment">// boucle for: repère le nom et la valeur des champs passifs pour chaques lignes de la table</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    $sql = <span class="stringliteral">&quot;SELECT DISTINCT $colonnes FROM $table &quot;</span>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    $stmt = $this-&gt;bd-&gt;query($sql);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">while</span> ($rslt = $stmt-&gt;fetch(PDO::FETCH_OBJ)){   </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <span class="keywordflow">for</span> ($y = 0; $y &lt; $compt;$y++){               </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        $nomColumn = $this-&gt;passiveChamps[$y];</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        $nomDeCol = $rslt-&gt;$nomColumn;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        $column[$y] = $this-&gt;<a class="code" href="../../d9/d12/class_ini_data.html#ad87025ddebbedbc62a6d535b95897a9c">aposentite</a>($nomDeCol);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      $ligne[]=$column;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="comment">//cree l&#39;ensemble des lignes [Passive] du futur fichier ini</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    $ini[$x] = <span class="stringliteral">&quot;[Passive]&quot;</span> ; $x++ ; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordflow">foreach</span> ($ligne as $num=&gt;$valigne){</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      $x = $x + $num;           </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="keywordflow">for</span>($y = 0; $y &lt; $compt;$y++){</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordflow">if</span> ($y == $compt-1){  $passiveline .= $valigne[$y];}</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="keywordflow">else</span> { $passiveline .= $valigne[$y].<span class="charliteral">&#39;,&#39;</span>;}</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      $ini[$x] = $num.<span class="stringliteral">&quot;=&quot;</span>.$passiveline;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      $passiveline = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    } </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    $sortie = $this-&gt;<a class="code" href="../../d9/d12/class_ini_data.html#ac3831dddb87a21ae72c0059c3d57a5f6">ecriture</a>($fichier,$ini);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    $stmt = NULL ; $ini = array();</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">return</span> $sortie;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  }   </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00341"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#ac3831dddb87a21ae72c0059c3d57a5f6">  341</a></span>&#160;  <span class="keyword">private</span> <span class="keyword">function</span> <a class="code" href="../../d9/d12/class_ini_data.html#ac3831dddb87a21ae72c0059c3d57a5f6">ecriture</a>($fichier,$tableau)</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    $iniSchema = array();</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">if</span> (! is_array($tableau)) { <span class="keywordflow">throw</span> <span class="keyword">new</span> MyPhpException(<span class="stringliteral">&#39;Inidata-&gt;ecriture : tableau fourni invalide&#39;</span>); }  </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    $lockFile = dirname($fichier).DIRECTORY_SEPARATOR.<span class="stringliteral">&quot;lock.txt&quot;</span>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">if</span> (! file_exists($lockFile)) { touch($lockFile); }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    $lockCtrl = fopen($lockFile,<span class="charliteral">&#39;r&#39;</span>);  </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    flock($lockCtrl,LOCK_EX);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    $fp = fopen(<span class="stringliteral">&quot;$fichier&quot;</span>,<span class="stringliteral">&quot;a&quot;</span>);      </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">foreach</span> ($tableau as $cle=&gt;$val){ </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      fwrite($fp,$val);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      $car = <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      fwrite($fp,$car);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    fclose($fp);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    flock($lockCtrl,LOCK_UN);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    fclose($lockCtrl);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="comment">//conclusions</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    $iniSchema =  parse_ini_file(<span class="stringliteral">&quot;$fichier&quot;</span>,TRUE);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">return</span> $iniSchema;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  } </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  </div>
<div class="line"><a name="l00370"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a08f4ea96fa476dd39b052f5d7ae5810a">  370</a></span>&#160;  <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="../../d9/d12/class_ini_data.html#a08f4ea96fa476dd39b052f5d7ae5810a">chargerContexte</a>(<a class="code" href="../../d9/d12/class_ini_data.html#a9e2129648d3b2c589f300c5f95e86598">$contexte</a>,<a class="code" href="../../d9/d12/class_ini_data.html#a224bac6bff01494b4097e3e4f23b6537">$statut</a>)</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="comment">//variables internes    </span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    $x = 0;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    $fpc = $regex = $regstat = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    $iniCont = $tables = $tabContexte = $iniMasques = $cles = array(); </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="comment">//Le statut et le contexte ne s&#39;improvise pas</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">if</span> (! in_array(<a class="code" href="../../d9/d12/class_ini_data.html#a224bac6bff01494b4097e3e4f23b6537">$statut</a>, $this-&gt;arrayStatuts)) {  </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      <span class="keywordflow">throw</span> <span class="keyword">new</span> MyPhpException (<span class="stringliteral">&quot;Statut invalide !&quot;</span>);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    }</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    elseif (! in_array(<a class="code" href="../../d9/d12/class_ini_data.html#a9e2129648d3b2c589f300c5f95e86598">$contexte</a>,$this-&gt;arrayContextes)) {  </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <span class="keywordflow">throw</span> <span class="keyword">new</span> MyPhpException (<span class="stringliteral">&quot;Contexte invalide !&quot;</span>);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">//Initialisations de variables de la classe, parser le fichier_de_contexte.ini</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    $this-&gt;statut = <a class="code" href="../../d9/d12/class_ini_data.html#a224bac6bff01494b4097e3e4f23b6537">$statut</a>;    </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    $this-&gt;contexte = <a class="code" href="../../d9/d12/class_ini_data.html#a9e2129648d3b2c589f300c5f95e86598">$contexte</a>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    $this-&gt;fileContexte = DIRCONTEXTE.$this-&gt;contexte.<span class="stringliteral">&#39;.ini&#39;</span>; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span> (! $tabContexte = parse_ini_file(<span class="stringliteral">&quot;$this-&gt;fileContexte&quot;</span>,TRUE)){</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <span class="keywordflow">throw</span> <span class="keyword">new</span> MyPhpException (<span class="stringliteral">&quot;Le fichier de contexte est absent&quot;</span>);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    } </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="comment">//à ce stade, ce n&#39;est qu&#39;une chaine</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    $this-&gt;fileDataContexte = DIRDATA.$this-&gt;contexte.<span class="stringliteral">&quot;_data.ini&quot;</span>; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    $this-&gt;mailCont = $tabContexte[<span class="stringliteral">&quot;general&quot;</span>][<span class="stringliteral">&quot;mail&quot;</span>];</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span> (!empty($tabContexte[<span class="stringliteral">&quot;general&quot;</span>][<span class="stringliteral">&quot;horsAntenne&quot;</span>])) { </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      $this-&gt;haCont = $tabContexte[<span class="stringliteral">&quot;general&quot;</span>][<span class="stringliteral">&quot;horsAntenne&quot;</span>]; </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">if</span> (!empty($tabContexte[<span class="stringliteral">&quot;general&quot;</span>][<span class="stringliteral">&quot;horsRegion&quot;</span>])) { </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      $this-&gt;haReg = $tabContexte[<span class="stringliteral">&quot;general&quot;</span>][<span class="stringliteral">&quot;horsRegion&quot;</span>];  </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    }</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="comment">//initialisation des tables dynamiques, les tables principales:    </span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    $this-&gt;dynTables = explode(<span class="stringliteral">&quot;,&quot;</span>,$tabContexte[<span class="stringliteral">&quot;dynamique&quot;</span>][<span class="stringliteral">&quot;tables&quot;</span>]);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    $this-&gt;dynPK = explode(<span class="stringliteral">&quot;,&quot;</span>,$tabContexte[<span class="stringliteral">&quot;dynamique&quot;</span>][<span class="stringliteral">&quot;PK&quot;</span>]); </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    $this-&gt;PPK = $this-&gt;dynPK[0]; </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">if</span> (isset($tabContexte[<span class="stringliteral">&quot;dynamique&quot;</span>][<span class="stringliteral">&quot;FK&quot;</span>])){   </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      $this-&gt;dynFK = $tabContexte[<span class="stringliteral">&quot;dynamique&quot;</span>][<span class="stringliteral">&quot;FK&quot;</span>];</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      $this-&gt;dynFKP = $tabContexte[<span class="stringliteral">&quot;dynamique&quot;</span>][<span class="stringliteral">&quot;FKP&quot;</span>];</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      $this-&gt;liensCles[<a class="code" href="../../d9/d12/class_ini_data.html#a55334d5857fa4f26ff09bd6f657befbb">$this-&gt;dynFK</a>] = <a class="code" href="../../d9/d12/class_ini_data.html#ae0b85de282511a9fc42d8eff4f7b4f92">$this-&gt;dynFKP</a>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="comment">//$tabContexte[&#39;extra&#39;] decrit les cles FK d&#39;une table :  </span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="comment">//on remplit $this-&gt;liensCles, array(&quot;nameCle&quot;=&gt;&quot;ValueCle&quot;)   </span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">if</span> (!empty($tabContexte[<span class="stringliteral">&quot;extra&quot;</span>])){</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      $this-&gt;extraTable = explode(<span class="stringliteral">&quot;,&quot;</span>,$tabContexte[<span class="stringliteral">&quot;extra&quot;</span>][<span class="stringliteral">&quot;tables&quot;</span>]);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      $this-&gt;extraFK = explode(<span class="stringliteral">&quot;,&quot;</span>,$tabContexte[<span class="stringliteral">&quot;extra&quot;</span>][<span class="stringliteral">&quot;FK&quot;</span>]);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      $this-&gt;extraFKP = explode(<span class="stringliteral">&quot;,&quot;</span>,$tabContexte[<span class="stringliteral">&quot;extra&quot;</span>][<span class="stringliteral">&quot;FKP&quot;</span>]);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <span class="keywordflow">foreach</span> ($this-&gt;extraFK as $num=&gt;$cle){</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        $this-&gt;liensCles[$cle] = $this-&gt;extraFKP[$num];</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      }</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    }    </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="comment">// si une liaison sql multi2multi est necessaire : </span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="comment">//initialisation des paramètres dits de liaison </span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="comment">// initialisation du schema sql basique des tables de&#39;liaison&#39; </span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <span class="keywordflow">if</span> (!empty($tabContexte[<span class="stringliteral">&quot;liaison&quot;</span>])){</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      $this-&gt;liaisonTable = $tabContexte[<span class="stringliteral">&quot;liaison&quot;</span>][<span class="stringliteral">&quot;table&quot;</span>];</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      $this-&gt;liaisonFK = explode(<span class="stringliteral">&quot;,&quot;</span>,$tabContexte[<span class="stringliteral">&quot;liaison&quot;</span>][<span class="stringliteral">&quot;FK&quot;</span>]);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      $this-&gt;liaisonFKP = explode(<span class="stringliteral">&quot;,&quot;</span>,$tabContexte[<span class="stringliteral">&quot;liaison&quot;</span>][<span class="stringliteral">&quot;FKP&quot;</span>]);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <span class="keywordflow">if</span> (!empty($tabContexte[<span class="stringliteral">&quot;liaison&quot;</span>][<span class="stringliteral">&quot;champs&quot;</span>])){</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        $this-&gt;liaisonChamps = explode(<span class="stringliteral">&quot;,&quot;</span>,$tabContexte[<span class="stringliteral">&quot;liaison&quot;</span>][<span class="stringliteral">&quot;champs&quot;</span>]);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        $this-&gt;liaisonValeurs = $tabContexte[<span class="stringliteral">&quot;liaison&quot;</span>][<span class="stringliteral">&quot;valeurs&quot;</span>];</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      $this-&gt;fileLiaisonTable = DIRTABLE.$this-&gt;liaisonTable.<span class="stringliteral">&#39;.ini&#39;</span>;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <span class="keywordflow">foreach</span> ($this-&gt;liaisonFK as $num=&gt;$cle){  </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        $this-&gt;liensCles[$cle] = $this-&gt;liaisonFKP[$num];</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      <span class="keywordflow">if</span> (file_exists($this-&gt;fileLiaisonTable)){ </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        $this-&gt;schemaLiaison= parse_ini_file(<span class="stringliteral">&quot;$this-&gt;fileLiaisonTable&quot;</span>,TRUE); </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      <span class="keywordflow">else</span> { </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        $this-&gt;schemaLiaison= $this-&gt;<a class="code" href="../../d9/d12/class_ini_data.html#ac0eb41cb9195d4eeb28a9e155f9f1965">schemaTable</a>($this-&gt;liaisonTable); </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    }    </div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="comment">// initialisation des valeurs de tables et colonnes &#39;statiques&#39;</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="comment">// table dynamique et table statique sont reliées par une table de liaison </span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="comment">// relation sql : multi(dynamique) to multi(statique) via table &#39;liaison&#39; </span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="comment">// caculer le schema sql basique: par appel à schemaTable($this-&gt;statInTable)  </span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="comment">// calculer les specificités relationnelles statiques  : appel à calculDataStatique($this-&gt;statiqueTable,$this-&gt;schemaStatique,$this-&gt;fileStatiqueData)</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">if</span> (!empty($tabContexte[<span class="stringliteral">&quot;statique&quot;</span>])){</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      $this-&gt;statiqueTable = $tabContexte[<span class="stringliteral">&quot;statique&quot;</span>][<span class="stringliteral">&quot;tables&quot;</span>];</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      $this-&gt;statiquePK = $tabContexte[<span class="stringliteral">&quot;statique&quot;</span>][<span class="stringliteral">&quot;PK&quot;</span>];</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      <span class="keywordflow">if</span> (!empty($tabContexte[<span class="stringliteral">&quot;statique&quot;</span>][<span class="stringliteral">&quot;champs&quot;</span>])){  </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        $this-&gt;statiqueChamps = $tabContexte[<span class="stringliteral">&quot;statique&quot;</span>][<span class="stringliteral">&quot;champs&quot;</span>];</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <span class="keywordflow">if</span> (!empty($tabContexte[<span class="stringliteral">&quot;statique&quot;</span>][<span class="stringliteral">&quot;valeurs&quot;</span>])){ </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        $this-&gt;statiqueValeurs = explode(<span class="stringliteral">&quot;,&quot;</span>,$tabContexte[<span class="stringliteral">&quot;statique&quot;</span>][<span class="stringliteral">&quot;valeurs&quot;</span>]);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      $this-&gt;fileStatiqueTable = DIRTABLE.$this-&gt;statiqueTable.<span class="stringliteral">&#39;.ini&#39;</span>;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      $this-&gt;fileStatiqueData = DIREXTRA.$this-&gt;statiqueTable.<span class="stringliteral">&#39;_stat.ini&#39;</span>; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <span class="keywordflow">if</span> (file_exists($this-&gt;fileStatiqueTable)){ </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        $this-&gt;schemaStatique = parse_ini_file(<span class="stringliteral">&quot;$this-&gt;fileStatiqueTable&quot;</span>,TRUE);  </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <span class="keywordflow">else</span> { </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        $this-&gt;schemaStatique = $this-&gt;<a class="code" href="../../d9/d12/class_ini_data.html#ac0eb41cb9195d4eeb28a9e155f9f1965">schemaTable</a>($this-&gt;statiqueTable);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      }</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      <span class="keywordflow">if</span> (file_exists($this-&gt;fileStatiqueData)){ </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        $this-&gt;schemaDataStatique = parse_ini_file(<span class="stringliteral">&quot;$this-&gt;fileStatiqueData&quot;</span>,TRUE); </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      }</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <span class="keywordflow">else</span> {  </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        $this-&gt;schemaDataStatique = $this-&gt;<a class="code" href="../../d9/d12/class_ini_data.html#a7567dda7ef818afe87508fd5ffc5a32e">calculDataStatique</a>($this-&gt;statiqueTable,$this-&gt;schemaStatique, $this-&gt;fileStatiqueData); </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      } </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    }  </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="comment">//Prendre en compte les données passives (la liste passive sera un tableau mis en cache)</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="comment">//relation sql: multi(dynamique) to one(passive) </span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="comment">// calculer le schéma sql basique : par appel de schemaTable($this-&gt;passiveTable)</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="comment">//calculer les spécificités &#39;passives&#39;: par appel de calculDataPassive($this-&gt;passiveTable,$this-&gt;filePassiveData)</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">if</span> (!empty($tabContexte[<span class="stringliteral">&quot;passive&quot;</span>])){</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      $this-&gt;passiveTable = $tabContexte[<span class="stringliteral">&quot;passive&quot;</span>][<span class="stringliteral">&quot;tables&quot;</span>];</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      <span class="comment">//doit inclure la PK de la table passive</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      $this-&gt;passiveChamps = explode(<span class="stringliteral">&quot;,&quot;</span>,$tabContexte[<span class="stringliteral">&quot;passive&quot;</span>][<span class="stringliteral">&quot;champs&quot;</span>]); </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      $this-&gt;passivePK = $tabContexte[<span class="stringliteral">&quot;passive&quot;</span>][<span class="stringliteral">&quot;PK&quot;</span>];</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      $this-&gt;filePassiveTable = DIRTABLE.$this-&gt;passiveTable.<span class="stringliteral">&#39;.ini&#39;</span>;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      $this-&gt;filePassiveData = DIREXTRA.$this-&gt;passiveTable.<span class="stringliteral">&#39;_pass.ini&#39;</span>;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <span class="keywordflow">if</span> (file_exists($this-&gt;filePassiveTable)){ </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        $this-&gt;schemaPassive = parse_ini_file(<span class="stringliteral">&quot;$this-&gt;filePassiveTable&quot;</span>,TRUE); </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <span class="keywordflow">else</span> { </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        $this-&gt;schemaPassive = $this-&gt;<a class="code" href="../../d9/d12/class_ini_data.html#ac0eb41cb9195d4eeb28a9e155f9f1965">schemaTable</a>($this-&gt;passiveTable); </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <span class="keywordflow">if</span> (file_exists($this-&gt;filePassiveData)){ </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        $this-&gt;schemaDataPassive = parse_ini_file(<span class="stringliteral">&quot;$this-&gt;filePassiveData&quot;</span>,TRUE); </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <span class="keywordflow">else</span> { </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        $this-&gt;schemaDataPassive = $this-&gt;<a class="code" href="../../d9/d12/class_ini_data.html#adf55facb516d584775e31602eb222bb7">calculDataPassive</a>($this-&gt;passiveTable,$this-&gt;filePassiveData); </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      }     </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    }  </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="comment">//creation du tableau des formulaires Obligatoires et Facultatifs selon les statuts et les tables dynamiques</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">if</span> ($this-&gt;statut == <span class="stringliteral">&#39;anonym&#39;</span>){    </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      <span class="keywordflow">if</span> (!empty($tabContexte[<span class="stringliteral">&quot;anonym&quot;</span>][<span class="stringliteral">&quot;facul&quot;</span>])){ </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        $this-&gt;dataFacul = explode(<span class="stringliteral">&quot;,&quot;</span>,$tabContexte[<span class="stringliteral">&quot;anonym&quot;</span>][<span class="stringliteral">&quot;facul&quot;</span>]); </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      }</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      <span class="keywordflow">if</span> (!empty($tabContexte[<span class="stringliteral">&quot;anonym&quot;</span>][<span class="stringliteral">&quot;oblig&quot;</span>])){ </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        $this-&gt;dataOblig = explode(<span class="stringliteral">&quot;,&quot;</span>,$tabContexte[<span class="stringliteral">&quot;anonym&quot;</span>][<span class="stringliteral">&quot;oblig&quot;</span>]); </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      }       </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    }    </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    elseif ($this-&gt;statut == <span class="stringliteral">&#39;membre&#39;</span>){</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <span class="keywordflow">if</span> (!empty($tabContexte[<span class="stringliteral">&quot;membre&quot;</span>][<span class="stringliteral">&quot;facul&quot;</span>])){ </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        $this-&gt;dataFacul = explode(<span class="stringliteral">&quot;,&quot;</span>,$tabContexte[<span class="stringliteral">&quot;membre&quot;</span>][<span class="stringliteral">&quot;facul&quot;</span>]); </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      }      </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      <span class="keywordflow">if</span> (!empty($tabContexte[<span class="stringliteral">&quot;membre&quot;</span>][<span class="stringliteral">&quot;oblig&quot;</span>])){ </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        $this-&gt;dataOblig = explode(<span class="stringliteral">&quot;,&quot;</span>,$tabContexte[<span class="stringliteral">&quot;membre&quot;</span>][<span class="stringliteral">&quot;oblig&quot;</span>]); </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      <span class="keywordflow">if</span> (!empty($tabContexte[<span class="stringliteral">&quot;membre&quot;</span>][<span class="stringliteral">&quot;vue&quot;</span>])) { </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        $this-&gt;dataVue = explode(<span class="stringliteral">&quot;,&quot;</span>,$tabContexte[<span class="stringliteral">&quot;membre&quot;</span>][<span class="stringliteral">&quot;vue&quot;</span>]); </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      }</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    }</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    elseif ($this-&gt;statut == <span class="stringliteral">&#39;responsable&#39;</span>){</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <span class="keywordflow">if</span> (!empty($tabContexte[<span class="stringliteral">&quot;responsable&quot;</span>][<span class="stringliteral">&quot;facul&quot;</span>])){ </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        $this-&gt;dataFacul = explode(<span class="stringliteral">&quot;,&quot;</span>,$tabContexte[<span class="stringliteral">&quot;responsable&quot;</span>][<span class="stringliteral">&quot;facul&quot;</span>]); </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      }</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      <span class="keywordflow">if</span> (!empty($tabContexte[<span class="stringliteral">&quot;responsable&quot;</span>][<span class="stringliteral">&quot;oblig&quot;</span>])){ </div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        $this-&gt;dataOblig = explode(<span class="stringliteral">&quot;,&quot;</span>,$tabContexte[<span class="stringliteral">&quot;responsable&quot;</span>][<span class="stringliteral">&quot;oblig&quot;</span>]); </div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      }</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <span class="keywordflow">if</span> (!empty($tabContexte[<span class="stringliteral">&quot;responsable&quot;</span>][<span class="stringliteral">&quot;vue&quot;</span>])) { </div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        $this-&gt;dataVue = explode(<span class="stringliteral">&quot;,&quot;</span>,$tabContexte[<span class="stringliteral">&quot;responsable&quot;</span>][<span class="stringliteral">&quot;vue&quot;</span>]); </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    }  </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    elseif ($this-&gt;statut == <span class="stringliteral">&#39;admin&#39;</span>){</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      <span class="keywordflow">if</span> (!empty($tabContexte[<span class="stringliteral">&quot;admin&quot;</span>][<span class="stringliteral">&quot;facul&quot;</span>])){ </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        $this-&gt;dataFacul = explode(<span class="stringliteral">&quot;,&quot;</span>,$tabContexte[<span class="stringliteral">&quot;admin&quot;</span>][<span class="stringliteral">&quot;facul&quot;</span>]); </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      }</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <span class="keywordflow">if</span> (!empty($tabContexte[<span class="stringliteral">&quot;admin&quot;</span>][<span class="stringliteral">&quot;oblig&quot;</span>])){ </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        $this-&gt;dataOblig = explode(<span class="stringliteral">&quot;,&quot;</span>,$tabContexte[<span class="stringliteral">&quot;admin&quot;</span>][<span class="stringliteral">&quot;oblig&quot;</span>]); </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      <span class="keywordflow">if</span> (!empty($tabContexte[<span class="stringliteral">&quot;admin&quot;</span>][<span class="stringliteral">&quot;vue&quot;</span>])) { </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        $this-&gt;dataVue = explode(<span class="stringliteral">&quot;,&quot;</span>,$tabContexte[<span class="stringliteral">&quot;admin&quot;</span>][<span class="stringliteral">&quot;vue&quot;</span>]); </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    }</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="comment">//charge le fichier _data.ini ad hoc  ou calcul du schema de contexte pour chargement à la fin</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">if</span> ( file_exists($this-&gt;fileDataContexte)){     </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      $this-&gt;dataContexte = parse_ini_file(<span class="stringliteral">&quot;$this-&gt;fileDataContexte&quot;</span>,TRUE);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">else</span> { </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      <span class="comment">//appel de methode schemaTable pour chaque table dynamique        </span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      <span class="keywordflow">foreach</span> ($this-&gt;dynTables as $idx=&gt;$nomTable){</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        $this-&gt;table = $nomTable;          </div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        $this-&gt;schema = $this-&gt;<a class="code" href="../../d9/d12/class_ini_data.html#ac0eb41cb9195d4eeb28a9e155f9f1965">schemaTable</a>($this-&gt;table);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="keywordflow">foreach</span> ($this-&gt;schema as $nom =&gt; $column){</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;          $iniCont[$x] = <span class="stringliteral">&quot;[&quot;</span>.$nom.<span class="stringliteral">&quot;]&quot;</span>;$x++;        </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;          <span class="keywordflow">foreach</span> ($column as $cle =&gt; $val){  </div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            $iniCont[$x] = $cle.<span class="stringliteral">&quot;=&quot;</span>.$val;$x++;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;          }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        }</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      }</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <span class="comment">//Ecriture du schema de contexte (multi tables) et chargement du contexte dans $this-&gt;dataContexte</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      $this-&gt;dataContexte = $this-&gt;<a class="code" href="../../d9/d12/class_ini_data.html#ac3831dddb87a21ae72c0059c3d57a5f6">ecriture</a>($this-&gt;fileDataContexte,$iniCont);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <span class="comment">//nettoyages</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      unset($iniCont);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    }</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="comment">//Ajout des donnees statiques à $this-&gt;dataContexte et completion du tableau $this-&gt;dataFacul</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">if</span> (!empty($this-&gt;schemaDataStatique)){</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      <span class="keywordflow">foreach</span> ($this-&gt;schemaDataStatique as $nomextra=&gt;$valextra){</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        $this-&gt;dataContexte[$nomextra] = $valextra;  </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      }                     </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="comment">//detection de oblig et facul répartie à toutes les donnees  </span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    $this-&gt;clesDataContexte = array_keys($this-&gt;dataContexte);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordflow">foreach</span>($this-&gt;clesDataContexte as $x=&gt;$nom){</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <span class="keywordflow">foreach</span>($this-&gt;dataOblig as $key=&gt;$val){</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="keywordflow">if</span> ($val == $nom){  $this-&gt;dataContexte[$nom][<span class="stringliteral">&quot;oblig&quot;</span>] = 1;}</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <span class="keywordflow">foreach</span> ($this-&gt;dataFacul as $key=&gt;$val){  </div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="keywordflow">if</span> ($val == $nom){  $this-&gt;dataContexte[$nom][<span class="stringliteral">&#39;possible&#39;</span>] = 1;}</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    }        </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="comment">//rajout des masques au schema de contexte (toujours après ecriture du .ini) </span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">foreach</span> ($this-&gt;dynTables as $nomTable){ </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="comment">//parcour des tables requises et chargement des masques pour chaque table</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      <span class="comment">//Le nom du masque doit correspondre au nom d&#39;une colonne de la table !!      </span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      $this-&gt;table = $nomTable;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <span class="keywordflow">if</span> (! $this-&gt;masques = $this-&gt;<a class="code" href="../../d9/d12/class_ini_data.html#a95f6a1ff12baa5a230498301f50fbcde">chargerMasques</a>($this-&gt;table)){</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keywordflow">throw</span> <span class="keyword">new</span> MyPhpException(<span class="stringliteral">&quot;Impossible de charger le tableau des masques&quot;</span>);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      <span class="comment">//creation du tableau de tous les masques (multi table)     </span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      <span class="keywordflow">foreach</span> ($this-&gt;masques as $nomasque=&gt;$masq){</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        $iniMasques[$nomasque] = $masq;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="comment">// parcours du tableau produit par la lecture de $this-&gt;fileDataContexte</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="comment">// association de l&#39;attribut et de son masque regex</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="comment">//traitement du masque pour donnees statiques (selon les mots du contextes statique)</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="comment">//le calcul du masque statique se base sur la valeur statique attendue</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">foreach</span> ($this-&gt;dataContexte as $nom =&gt; $options){    </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <span class="keywordflow">if</span> ($options[<span class="stringliteral">&quot;masque&quot;</span>] == 1) { $regex = <span class="stringliteral">&quot;&#39;&quot;</span>.$iniMasques[$nom].<span class="stringliteral">&quot;&#39;&quot;</span>; }     </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      elseif ($options[<span class="stringliteral">&#39;masque&#39;</span>] == <span class="stringliteral">&#39;statique&#39;</span> &amp;&amp; !empty($this-&gt;statiqueValeurs)){</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        $z = (count($this-&gt;statiqueValeurs)-1);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <span class="keywordflow">foreach</span>($this-&gt;statiqueValeurs as $id=&gt;$mots){  </div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;          <span class="keywordflow">if</span> ($id &lt; $z){ $regstat .= $mots.<span class="stringliteral">&quot;|&quot;</span>;}</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;          <span class="keywordflow">else</span> {$regstat .= $mots;}</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        }</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        $regstat = <span class="stringliteral">&quot;(&quot;</span>.$regstat.<span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        $regex = <span class="stringliteral">&quot;&#39;&quot;</span>.$regstat.<span class="stringliteral">&quot;&#39;&quot;</span>;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      }  </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      elseif ($options[<span class="stringliteral">&#39;masque&#39;</span>] == <span class="stringliteral">&#39;statique&#39;</span> &amp;&amp; empty($this-&gt;statiqueValeurs)){</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <span class="keywordflow">if</span> ($this-&gt;contexte == <span class="stringliteral">&#39;News&#39;</span>) { $mask =  <span class="stringliteral">&quot;[^-A-Za-zâàäéêèôöûùîïç\s\&#39;_,.]&quot;</span>; }</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        elseif ($this-&gt;contexte == <span class="stringliteral">&#39;Trajet&#39;</span>) { $mask = <span class="stringliteral">&#39;[^-a-zA-Z0-9àâäéèêûôùïîç\s:;,_.\\\&#39;]&#39;</span>; }       </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        $regex = <span class="stringliteral">&quot;&#39;&quot;</span>.$mask.<span class="stringliteral">&quot;&#39;&quot;</span>;  </div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      } </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <span class="keywordflow">else</span> { $regex = 0;}   </div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      $this-&gt;dataContexte[$nom][<span class="stringliteral">&#39;masque&#39;</span>]= $regex; </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      $regstat = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    }</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    unset($iniMasques);  </div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="comment">//rajout des donnees passives si présentes</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">if</span> (!empty($this-&gt;schemaDataPassive)){</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      <span class="keywordflow">foreach</span> ($this-&gt;schemaDataPassive as $nompassif=&gt;$valpassif){</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        $this-&gt;dataContexte[$nompassif]=$valpassif;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    }</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    $this-&gt;dataContexte[<span class="stringliteral">&#39;general&#39;</span>][<span class="stringliteral">&#39;mail&#39;</span>] = <a class="code" href="../../d9/d12/class_ini_data.html#ad97b9981252562f2f57c324149691c1f">$this-&gt;mailCont</a>;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    $this-&gt;dataContexte[<span class="stringliteral">&#39;general&#39;</span>][<span class="stringliteral">&#39;horsAntenne&#39;</span>] = <a class="code" href="../../d9/d12/class_ini_data.html#ace1165fae641144573fc8fbf82bdade3">$this-&gt;haCont</a>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    $this-&gt;dataContexte[<span class="stringliteral">&#39;general&#39;</span>][<span class="stringliteral">&#39;horsRegion&#39;</span>] = <a class="code" href="../../d9/d12/class_ini_data.html#abdab766bdc77a6e7b40b5249decab120">$this-&gt;haReg</a>;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/d12/class_ini_data.html#aab71b854b74293be269682b283839478">$this-&gt;dataContexte</a>;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  }</div>
<div class="line"><a name="l00633"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#aa674bf5a521cdfc1b2845285bc190fb0">  633</a></span>&#160;  <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="../../d9/d12/class_ini_data.html#aa674bf5a521cdfc1b2845285bc190fb0">rechargerContexte</a>(<a class="code" href="../../d9/d12/class_ini_data.html#a9e2129648d3b2c589f300c5f95e86598">$contexte</a>,<a class="code" href="../../d9/d12/class_ini_data.html#a224bac6bff01494b4097e3e4f23b6537">$statut</a>)</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  {</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    $tabpath = array(DIRDATA,DIRTABLE,DIREXTRA);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordflow">foreach</span> ($tabpath as $rep){ </div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      <span class="keywordflow">if</span> (is_dir($rep)){  </div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        chdir($rep);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="keywordflow">if</span> ($rep == DIRDATA){</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;          $fichiers = glob(<span class="stringliteral">&#39;./*_data.ini&#39;</span>);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="keywordflow">else</span>  { $fichiers = glob(<span class="stringliteral">&#39;./*.ini&#39;</span>);}</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="keywordflow">foreach</span> ($fichiers as $nom){  </div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;          unlink($nom);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        }</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        chdir(BASEDIR);       </div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    }</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    $this-&gt;dataContexte = $this-&gt;<a class="code" href="../../d9/d12/class_ini_data.html#a08f4ea96fa476dd39b052f5d7ae5810a">chargerContexte</a>(<a class="code" href="../../d9/d12/class_ini_data.html#a9e2129648d3b2c589f300c5f95e86598">$contexte</a>,<a class="code" href="../../d9/d12/class_ini_data.html#a224bac6bff01494b4097e3e4f23b6537">$statut</a>);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/d12/class_ini_data.html#aab71b854b74293be269682b283839478">$this-&gt;dataContexte</a>;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  }  </div>
<div class="line"><a name="l00657"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#ac0eb41cb9195d4eeb28a9e155f9f1965">  657</a></span>&#160;  <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="../../d9/d12/class_ini_data.html#ac0eb41cb9195d4eeb28a9e155f9f1965">schemaTable</a>($nom_table)</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  {      </div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    $regex = <span class="stringliteral">&#39;&#39;</span>;$tabIniT = array();</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    $this-&gt;table = $nom_table;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    $this-&gt;fileTable =  DIRTABLE.$this-&gt;table.<span class="stringliteral">&#39;.ini&#39;</span>;       </div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordflow">if</span> (!file_exists($this-&gt;fileTable)){  </div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      $tabIniT = $this-&gt;<a class="code" href="../../d9/d12/class_ini_data.html#afe780333b8bcd415418851996ef8fc66">showColumns</a>($this-&gt;table); </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    }</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordflow">else</span> { </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      $tabIniT = parse_ini_file(<span class="stringliteral">&quot;$this-&gt;fileTable&quot;</span>,TRUE); </div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    } </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keywordflow">return</span> $tabIniT;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  } </div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;   </div>
<div class="line"><a name="l00678"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#aa208b5e1dcec332b38c53e8f0c350811">  678</a></span>&#160;  <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="../../d9/d12/class_ini_data.html#aa208b5e1dcec332b38c53e8f0c350811">magicNormHTTP</a>($tableau)</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordflow">if</span> (! is_array($tableau)) {  $tableau = stripslashes($tableau); }</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="keywordflow">else</span> {    </div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      <span class="keywordflow">foreach</span>($tableau as $key =&gt; $valeur) { </div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <span class="keywordflow">if</span> (! is_array($valeur))  { $tableau[$key] = stripslashes($valeur); }</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <span class="keywordflow">else</span>  { $tableau[$key] = $this-&gt;magicNormHttp($valeur); }</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      }</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    }</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordflow">return</span> $tableau;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  }</div>
<div class="line"><a name="l00694"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a1159ffef5268fc2304cbf69c7dad723f">  694</a></span>&#160;  <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="../../d9/d12/class_ini_data.html#a1159ffef5268fc2304cbf69c7dad723f">attributsOblig</a>($nom_table)</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  {</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    $clesTable = <a class="code" href="../../d9/d12/class_ini_data.html#af9c3fd549f89221a04075cec0f625a7a">$schema</a> = $dataTableOblig = array();    </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <a class="code" href="../../d9/d12/class_ini_data.html#af9c3fd549f89221a04075cec0f625a7a">$schema</a> = $this-&gt;<a class="code" href="../../d9/d12/class_ini_data.html#ac0eb41cb9195d4eeb28a9e155f9f1965">schemaTable</a>($nom_table);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    $clesTable = array_keys(<a class="code" href="../../d9/d12/class_ini_data.html#af9c3fd549f89221a04075cec0f625a7a">$schema</a>);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordflow">if</span> (!empty($this-&gt;dataOblig)){</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      $dataTableOblig = array_intersect($clesTable,$this-&gt;dataOblig);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    }</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keywordflow">return</span> $dataTableOblig;  </div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  </div>
<div class="line"><a name="l00711"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a71fde18e9759b36cc5c796781c6dd2d8">  711</a></span>&#160;   <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="../../d9/d12/class_ini_data.html#a71fde18e9759b36cc5c796781c6dd2d8">attributsFacul</a>($nom_table)</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;   {</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    $clesTable = <a class="code" href="../../d9/d12/class_ini_data.html#af9c3fd549f89221a04075cec0f625a7a">$schema</a> = $dataTableFacul = array();     </div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="keywordflow">if</span> ($nom_table == $this-&gt;liaisonTable){  </div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      <span class="keywordflow">if</span> (!empty($this-&gt;schemaStatique)){</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        $dataTableFacul = array_keys($this-&gt;schemaDataStatique);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      }    </div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    }      </div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keywordflow">else</span> {    </div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;      <a class="code" href="../../d9/d12/class_ini_data.html#af9c3fd549f89221a04075cec0f625a7a">$schema</a> = $this-&gt;<a class="code" href="../../d9/d12/class_ini_data.html#ac0eb41cb9195d4eeb28a9e155f9f1965">schemaTable</a>($nom_table);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      $clesTable = array_keys(<a class="code" href="../../d9/d12/class_ini_data.html#af9c3fd549f89221a04075cec0f625a7a">$schema</a>);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      $dataTableFacul = array_intersect($clesTable,$this-&gt;dataFacul);  </div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    }    </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordflow">return</span> $dataTableFacul;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  }</div>
<div class="line"><a name="l00732"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a047ba417fd692ef36e1eef675d0ff1aa">  732</a></span>&#160;  <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="../../d9/d12/class_ini_data.html#a047ba417fd692ef36e1eef675d0ff1aa">attributsTable</a>($nom_table)</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  {  </div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    $attrTableF = $attrTableO = $dataTableContexte = array();  </div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;     </div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="comment">//Si c&#39;est une table &#39;de liaison&#39;:  inclure les cles FK de liaison dans le tableau oblig</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordflow">if</span> ($nom_table == $this-&gt;liaisonTable) {  </div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      $attrTableO = array_merge($this-&gt;liaisonFK,$attrTableO);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      <span class="keywordflow">if</span> (!empty($this-&gt;liaisonChamps)){</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        $attrTableF = array_merge($this-&gt;liaisonChamps,$attrTableF);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      } </div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="keywordflow">else</span> {  </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      $attrTableO = $this-&gt;<a class="code" href="../../d9/d12/class_ini_data.html#a1159ffef5268fc2304cbf69c7dad723f">attributsOblig</a>($nom_table);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      $attrTableF = $this-&gt;<a class="code" href="../../d9/d12/class_ini_data.html#a71fde18e9759b36cc5c796781c6dd2d8">attributsFacul</a>($nom_table); </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    } </div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    $dataTableContexte = array_merge($attrTableO,$attrTableF);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordflow">return</span> $dataTableContexte;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  } </div>
<div class="line"><a name="l00757"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a26ddb4ad292eee41bb0cff7cd9efd059">  757</a></span>&#160;  <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="../../d9/d12/class_ini_data.html#a26ddb4ad292eee41bb0cff7cd9efd059">chargerTable</a>($nom_table,$pk = NULL)</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <a class="code" href="../../d9/d12/class_ini_data.html#af9c3fd549f89221a04075cec0f625a7a">$schema</a> = $dataTableOblig = $dataTableCharge = $dataTable = $dataTableContexte = array();    </div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="keywordflow">if</span> ($nom_table == $this-&gt;liaisonTable){  $dataTableCharge = <a class="code" href="../../d9/d12/class_ini_data.html#a7514b56e424ed4485a4042e2a3e0ae70">$this-&gt;schemaDataStatique</a>; }         </div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="keywordflow">else</span> {          </div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <a class="code" href="../../d9/d12/class_ini_data.html#af9c3fd549f89221a04075cec0f625a7a">$schema</a> = $this-&gt;<a class="code" href="../../d9/d12/class_ini_data.html#ac0eb41cb9195d4eeb28a9e155f9f1965">schemaTable</a>($nom_table);      </div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      $dataTableContexte = $this-&gt;<a class="code" href="../../d9/d12/class_ini_data.html#a047ba417fd692ef36e1eef675d0ff1aa">attributsTable</a>($nom_table);</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      <span class="keywordflow">foreach</span> ($dataTableContexte as $attr){</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        $dataTableCharge[$attr] = $this-&gt;dataContexte[$attr];</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      }</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      <span class="keywordflow">if</span> (!empty($pk)){</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        <span class="keywordflow">foreach</span> (<a class="code" href="../../d9/d12/class_ini_data.html#af9c3fd549f89221a04075cec0f625a7a">$schema</a> as $nom=&gt;$option){</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;          <span class="keywordflow">if</span> ($option[<span class="stringliteral">&#39;clePrimaire&#39;</span>]){ </div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;            $dataTableCharge[$nom] = $option;}</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        }</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      }</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      $dataTableContexte = array();</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    }    </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keywordflow">return</span> $dataTableCharge;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  }</div>
<div class="line"><a name="l00781"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#ab44b8cf01b371c6d9e80ec3c88789103">  781</a></span>&#160;  <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="../../d9/d12/class_ini_data.html#ab44b8cf01b371c6d9e80ec3c88789103">getTables</a>($dynonly=NULL)</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    $wagon = array();</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="keywordflow">foreach</span> ($this-&gt;dynTables as $tabula){</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      $wagon[] = $tabula;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    }</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="keywordflow">if</span> ((!empty($this-&gt;liaisonTable)) &amp;&amp; (empty($dynonly))) {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        array_push($wagon,$this-&gt;liaisonTable);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    }</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordflow">return</span> $wagon;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  }</div>
<div class="line"><a name="l00794"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a7a1dade04dc1607ee5d9746d96f6211f">  794</a></span>&#160;  <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="../../d9/d12/class_ini_data.html#a7a1dade04dc1607ee5d9746d96f6211f">getPassiveTable</a>()</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  {</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    $pass = <span class="stringliteral">&#39;&#39;</span>;    </div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">if</span> (!empty($this-&gt;passiveTable)){ $pass =  <a class="code" href="../../d9/d12/class_ini_data.html#ab2d06606f3d9ad274007d4b33485a663">$this-&gt;passiveTable</a>; }</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="keywordflow">return</span> $pass; </div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  }</div>
<div class="line"><a name="l00803"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#ae15bb2d7cd5e94ee49d15c1409a7f459">  803</a></span>&#160;  <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="../../d9/d12/class_ini_data.html#ae15bb2d7cd5e94ee49d15c1409a7f459">getExtraTable</a>()</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keywordflow">return</span> $this-&gt;extraTable();    </div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  }</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="comment">  * retourne le nom de l&#39;attribut PPK (Principal Primary Key) du contexte</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="comment">  * utilisé par classe filtreData</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l00811"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#af021429e18583c9752b819639864c6b9">  811</a></span>&#160;  <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="../../d9/d12/class_ini_data.html#af021429e18583c9752b819639864c6b9">getPPK</a>()</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/d12/class_ini_data.html#ac2d92fa0847669f395ba2c555c557c2d">$this-&gt;PPK</a>;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  }</div>
<div class="line"><a name="l00819"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a7a47895cf23878aa7f1bddfbd13505ee">  819</a></span>&#160;  <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="../../d9/d12/class_ini_data.html#a7a47895cf23878aa7f1bddfbd13505ee">getListeAttr</a>()</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  {</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    $liste = array();   </div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    $liste = array_merge($this-&gt;dataOblig,$this-&gt;dataFacul);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="keywordflow">if</span> (!empty($this-&gt;schemaDataStatique)){</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      $champStatiques = array_keys($this-&gt;schemaDataStatique);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      <span class="keywordflow">foreach</span> ($champStatiques as $champ){</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        array_push($liste,$champ);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      }</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    }</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="keywordflow">return</span> $liste;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  }</div>
<div class="line"><a name="l00834"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#a531e17780099a2ac56658ccb363ce9ac">  834</a></span>&#160;  <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="../../d9/d12/class_ini_data.html#a531e17780099a2ac56658ccb363ce9ac">getFaculFull</a>()</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    $liste = <a class="code" href="../../d9/d12/class_ini_data.html#ad3e47d712fcaf6b7892452c9b808ee2e">$this-&gt;dataFacul</a>;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="keywordflow">if</span> (! empty($this-&gt;schemaDataStatique)){</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      $champStatiques = array_keys($this-&gt;schemaDataStatique);</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      <span class="keywordflow">foreach</span> ($champStatiques as $champ){</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        array_push($liste,$champ);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      }</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    }</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keywordflow">return</span> $liste;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  }</div>
<div class="line"><a name="l00848"></a><span class="lineno"><a class="line" href="../../d9/d12/class_ini_data.html#aae769db027c062dc6756e8989a6b019e">  848</a></span>&#160;  <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="../../d9/d12/class_ini_data.html#aae769db027c062dc6756e8989a6b019e">getOblig</a>()</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/d12/class_ini_data.html#ad71ca8a1276418b2ef69aacadfe5ff31">$this-&gt;dataOblig</a>;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  }</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  </div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;}  </div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  </div>
<div class="ttc" id="class_ini_data_html_ad7a20d4e86db05b62827a003e27f5e15"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#ad7a20d4e86db05b62827a003e27f5e15">IniData\$liaisonFK</a></div><div class="ttdeci">$liaisonFK</div><div class="ttdoc">tableau des clés FK (clés de liaison) </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00055">IniData.class.php:55</a></div></div>
<div class="ttc" id="class_ini_data_html_ace1165fae641144573fc8fbf82bdade3"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#ace1165fae641144573fc8fbf82bdade3">IniData\$haCont</a></div><div class="ttdeci">$haCont</div><div class="ttdoc">nom de l&#39;antenne &#39;hors_antenne&#39; </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00052">IniData.class.php:52</a></div></div>
<div class="ttc" id="class_ini_data_html_a1159ffef5268fc2304cbf69c7dad723f"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a1159ffef5268fc2304cbf69c7dad723f">IniData\attributsOblig</a></div><div class="ttdeci">attributsOblig($nom_table)</div><div class="ttdoc">Les donnees oblig pour une table orientation formulaire client. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00694">IniData.class.php:694</a></div></div>
<div class="ttc" id="class_ini_data_html_a6238323dd43b638cc3249cfd624b7bf0"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a6238323dd43b638cc3249cfd624b7bf0">IniData\$schemaStatique</a></div><div class="ttdeci">$schemaStatique</div><div class="ttdoc">tableau rassemblant le schema sql d&#39;une table &#39;statique&#39; </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00069">IniData.class.php:69</a></div></div>
<div class="ttc" id="class_ini_data_html_a58606f8666f130e28679424c20e5448f"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a58606f8666f130e28679424c20e5448f">IniData\$statiqueValeurs</a></div><div class="ttdeci">$statiqueValeurs</div><div class="ttdoc">valeurs que peuvent prendre un champ sql &#39;statique&#39; </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00076">IniData.class.php:76</a></div></div>
<div class="ttc" id="class_ini_data_html_a7567dda7ef818afe87508fd5ffc5a32e"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a7567dda7ef818afe87508fd5ffc5a32e">IniData\calculDataStatique</a></div><div class="ttdeci">calculDataStatique($table, $tableau, $fichier)</div><div class="ttdoc">Crée un fichier.ini par une requète sélect des valeurs des champs statiques. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00230">IniData.class.php:230</a></div></div>
<div class="ttc" id="class_ini_data_html_ad3e47d712fcaf6b7892452c9b808ee2e"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#ad3e47d712fcaf6b7892452c9b808ee2e">IniData\$dataFacul</a></div><div class="ttdeci">$dataFacul</div><div class="ttdoc">tableau des colonnes facultatives </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00035">IniData.class.php:35</a></div></div>
<div class="ttc" id="class_ini_data_html_a9c26d7834a249fcf05fc02cbf891b477"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a9c26d7834a249fcf05fc02cbf891b477">IniData\$dynPK</a></div><div class="ttdeci">$dynPK</div><div class="ttdoc">tableau des clés Primaires (PK) </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00038">IniData.class.php:38</a></div></div>
<div class="ttc" id="class_ini_data_html_a95f6a1ff12baa5a230498301f50fbcde"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a95f6a1ff12baa5a230498301f50fbcde">IniData\chargerMasques</a></div><div class="ttdeci">chargerMasques($table)</div><div class="ttdoc">Chargement d&#39;un tableau de regex pour chaque colonnes de la table sql fournie. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00116">IniData.class.php:116</a></div></div>
<div class="ttc" id="class_ini_data_html_a8a13ab8c18f7a9c8660993c7335501d5"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a8a13ab8c18f7a9c8660993c7335501d5">IniData\$liaisonValeurs</a></div><div class="ttdeci">$liaisonValeurs</div><div class="ttdoc">valeur des colonnes supplémentaires sur table de liaison </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00058">IniData.class.php:58</a></div></div>
<div class="ttc" id="class_ini_data_html_a3fadbb881584abd6f3575eb296c42924"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a3fadbb881584abd6f3575eb296c42924">IniData\$fileDataContexte</a></div><div class="ttdeci">$fileDataContexte</div><div class="ttdoc">fichier cache.ini avec données calculées d&#39;un contexte </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00050">IniData.class.php:50</a></div></div>
<div class="ttc" id="class_ini_data_html_a26ddb4ad292eee41bb0cff7cd9efd059"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a26ddb4ad292eee41bb0cff7cd9efd059">IniData\chargerTable</a></div><div class="ttdeci">chargerTable($nom_table, $pk=NULL)</div><div class="ttdoc">charge les données facultatives et obligatoires avec leurs proprietes completes pour une table d&#39;un c...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00757">IniData.class.php:757</a></div></div>
<div class="ttc" id="class_ini_data_html_a8bab3c9f042caa7e8d7c94d076157645"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a8bab3c9f042caa7e8d7c94d076157645">IniData\$dataVue</a></div><div class="ttdeci">$dataVue</div><div class="ttdoc">tableau des colonnes pour une VUE </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00036">IniData.class.php:36</a></div></div>
<div class="ttc" id="class_ini_data_html_af43b62b0f49c24eb4cb4ee5d9a1e4743"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#af43b62b0f49c24eb4cb4ee5d9a1e4743">IniData\$schemaDataPassive</a></div><div class="ttdeci">$schemaDataPassive</div><div class="ttdoc">tableau résultat de calculDataPassive() </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00071">IniData.class.php:71</a></div></div>
<div class="ttc" id="class_ini_data_html_ab2d06606f3d9ad274007d4b33485a663"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#ab2d06606f3d9ad274007d4b33485a663">IniData\$passiveTable</a></div><div class="ttdeci">$passiveTable</div><div class="ttdoc">nom d&#39;une table &#39;passive&#39; </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00063">IniData.class.php:63</a></div></div>
<div class="ttc" id="class_ini_data_html_a216cc1d1b14328fd3f7f27a7a8cfae67"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a216cc1d1b14328fd3f7f27a7a8cfae67">IniData\$fileTable</a></div><div class="ttdeci">$fileTable</div><div class="ttdoc">nom d&#39;une table sql de contexte.ini </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00041">IniData.class.php:41</a></div></div>
<div class="ttc" id="class_ini_data_html_af021429e18583c9752b819639864c6b9"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#af021429e18583c9752b819639864c6b9">IniData\getPPK</a></div><div class="ttdeci">getPPK()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00811">IniData.class.php:811</a></div></div>
<div class="ttc" id="class_ini_data_html_a7a1dade04dc1607ee5d9746d96f6211f"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a7a1dade04dc1607ee5d9746d96f6211f">IniData\getPassiveTable</a></div><div class="ttdeci">getPassiveTable()</div><div class="ttdoc">Retourne le nom de la table passive du contexte ou NULL. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00794">IniData.class.php:794</a></div></div>
<div class="ttc" id="class_ini_data_html_a2bf668097a6ffbe2070ba264c316debb"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a2bf668097a6ffbe2070ba264c316debb">IniData\$bd</a></div><div class="ttdeci">$bd</div><div class="ttdoc">ressource Mysql </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00030">IniData.class.php:30</a></div></div>
<div class="ttc" id="class_ini_data_html_ae15bb2d7cd5e94ee49d15c1409a7f459"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#ae15bb2d7cd5e94ee49d15c1409a7f459">IniData\getExtraTable</a></div><div class="ttdeci">getExtraTable()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00803">IniData.class.php:803</a></div></div>
<div class="ttc" id="class_ini_data_html_afe780333b8bcd415418851996ef8fc66"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#afe780333b8bcd415418851996ef8fc66">IniData\showColumns</a></div><div class="ttdeci">showColumns($nom_table)</div><div class="ttdoc">Enregistrer les caractéristiques sql d&#39;une table. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00158">IniData.class.php:158</a></div></div>
<div class="ttc" id="class_ini_data_html_aa9ac7474dbd809348ee3d4c0b66f1788"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#aa9ac7474dbd809348ee3d4c0b66f1788">IniData\$liaisonChamps</a></div><div class="ttdeci">$liaisonChamps</div><div class="ttdoc">tableau :colonnes supplémentaires sur table de liaison </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00057">IniData.class.php:57</a></div></div>
<div class="ttc" id="class_ini_data_html_aa8e9751490a4545746ed011c518d5759"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#aa8e9751490a4545746ed011c518d5759">IniData\$liaisonTable</a></div><div class="ttdeci">$liaisonTable</div><div class="ttdoc">nom d&#39;une table sql de liaison </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00054">IniData.class.php:54</a></div></div>
<div class="ttc" id="class_ini_data_html_abdab766bdc77a6e7b40b5249decab120"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#abdab766bdc77a6e7b40b5249decab120">IniData\$haReg</a></div><div class="ttdeci">$haReg</div><div class="ttdoc">nom de la region &#39;hors-region&#39; </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00053">IniData.class.php:53</a></div></div>
<div class="ttc" id="class_ini_data_html_a68bf707cbd1fde4dfb74419cc60bf96c"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a68bf707cbd1fde4dfb74419cc60bf96c">IniData\$filePassiveData</a></div><div class="ttdeci">$filePassiveData</div><div class="ttdoc">fichier cache.ini avec les données &#39;passives&#39; de table </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00048">IniData.class.php:48</a></div></div>
<div class="ttc" id="class_ini_data_html_a3947197afbe1f1849e2911d4abc46c74"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a3947197afbe1f1849e2911d4abc46c74">IniData\$extraTable</a></div><div class="ttdeci">$extraTable</div><div class="ttdoc">tableau des tables &#39;extra&#39; dans contexte.ini </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00042">IniData.class.php:42</a></div></div>
<div class="ttc" id="class_ini_data_html_ad54ba8826afcbe4fe17984963fddfb1d"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#ad54ba8826afcbe4fe17984963fddfb1d">IniData\$fileStatiqueTable</a></div><div class="ttdeci">$fileStatiqueTable</div><div class="ttdoc">fichier cache.ini lié à une table sql statique </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00045">IniData.class.php:45</a></div></div>
<div class="ttc" id="class_ini_data_html_ac2d92fa0847669f395ba2c555c557c2d"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#ac2d92fa0847669f395ba2c555c557c2d">IniData\$PPK</a></div><div class="ttdeci">$PPK</div><div class="ttdoc">nom de la cle Primaire Principale du contexte </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00062">IniData.class.php:62</a></div></div>
<div class="ttc" id="class_ini_data_html_a99fdcaa9eb8619235704c729a2f14118"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a99fdcaa9eb8619235704c729a2f14118">IniData\$clesDataContexte</a></div><div class="ttdeci">$clesDataContexte</div><div class="ttdoc">tableau des clés SQL (FK, PK) du contexte </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00031">IniData.class.php:31</a></div></div>
<div class="ttc" id="class_ini_data_html_a9e2129648d3b2c589f300c5f95e86598"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a9e2129648d3b2c589f300c5f95e86598">IniData\$contexte</a></div><div class="ttdeci">$contexte</div><div class="ttdoc">string le nom d&#39;un contexte précis </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00032">IniData.class.php:32</a></div></div>
<div class="ttc" id="class_ini_data_html_aab71b854b74293be269682b283839478"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#aab71b854b74293be269682b283839478">IniData\$dataContexte</a></div><div class="ttdeci">$dataContexte</div><div class="ttdoc">tableau fourni par methode chargerContexte </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00033">IniData.class.php:33</a></div></div>
<div class="ttc" id="class_ini_data_html_a529c9e5836fca66d48f6eaf007f56457"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a529c9e5836fca66d48f6eaf007f56457">IniData\$filePassiveTable</a></div><div class="ttdeci">$filePassiveTable</div><div class="ttdoc">fichier cache.ini lié à une table sql &#39;passive&#39; </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00047">IniData.class.php:47</a></div></div>
<div class="ttc" id="class_ini_data_html_abe3762d7c9c72715627199932541c08f"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#abe3762d7c9c72715627199932541c08f">IniData\$fileStatiqueData</a></div><div class="ttdeci">$fileStatiqueData</div><div class="ttdoc">fichier cache.ini avec les données statiques de table </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00046">IniData.class.php:46</a></div></div>
<div class="ttc" id="class_ini_data_html_ac26e45b5f75e7d33ce8f176ddd08ffb9"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#ac26e45b5f75e7d33ce8f176ddd08ffb9">IniData\$extraFKP</a></div><div class="ttdeci">$extraFKP</div><div class="ttdoc">tableau des colonnes de références liés à extraFK </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00044">IniData.class.php:44</a></div></div>
<div class="ttc" id="class_ini_data_html_af1aee25498a6fa8c839d6a5eedf0f49c"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#af1aee25498a6fa8c839d6a5eedf0f49c">IniData\$passivePK</a></div><div class="ttdeci">$passivePK</div><div class="ttdoc">nom de la cle PK de table &#39;passive&#39; </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00065">IniData.class.php:65</a></div></div>
<div class="ttc" id="class_ini_data_html_a983be9b57ec2c070c3e0b33a07a2e88f"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a983be9b57ec2c070c3e0b33a07a2e88f">IniData\$masques</a></div><div class="ttdeci">$masques</div><div class="ttdoc">tableau de gestion des masques regex </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00060">IniData.class.php:60</a></div></div>
<div class="ttc" id="class_ini_data_html_ad6e0c7909b628206252859cf1d28d963"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#ad6e0c7909b628206252859cf1d28d963">IniData\$schemaLiaison</a></div><div class="ttdeci">$schemaLiaison</div><div class="ttdoc">tableau rassemblant le schema d&#39;une table &#39;de liaison&#39; </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00067">IniData.class.php:67</a></div></div>
<div class="ttc" id="class_ini_data_html_ad97b9981252562f2f57c324149691c1f"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#ad97b9981252562f2f57c324149691c1f">IniData\$mailCont</a></div><div class="ttdeci">$mailCont</div><div class="ttdoc">mail general de contact </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00061">IniData.class.php:61</a></div></div>
<div class="ttc" id="class_ini_data_html_ae572776b19bbc29b205736b34f72db3c"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#ae572776b19bbc29b205736b34f72db3c">IniData\$passiveChamps</a></div><div class="ttdeci">$passiveChamps</div><div class="ttdoc">tableau de colonne liées à une table &#39;passive&#39; </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00064">IniData.class.php:64</a></div></div>
<div class="ttc" id="class_ini_data_html_a55334d5857fa4f26ff09bd6f657befbb"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a55334d5857fa4f26ff09bd6f657befbb">IniData\$dynFK</a></div><div class="ttdeci">$dynFK</div><div class="ttdoc">nom d&#39;une clé étrangère (FK) </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00039">IniData.class.php:39</a></div></div>
<div class="ttc" id="class_ini_data_html_ae0b85de282511a9fc42d8eff4f7b4f92"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#ae0b85de282511a9fc42d8eff4f7b4f92">IniData\$dynFKP</a></div><div class="ttdeci">$dynFKP</div><div class="ttdoc">nom d&#39;une colonne référence pour FK </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00040">IniData.class.php:40</a></div></div>
<div class="ttc" id="class_ini_data_html_ac3831dddb87a21ae72c0059c3d57a5f6"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#ac3831dddb87a21ae72c0059c3d57a5f6">IniData\ecriture</a></div><div class="ttdeci">ecriture($fichier, $tableau)</div><div class="ttdoc">Concentre les opérations d&#39;ecritures dans $fichier. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00341">IniData.class.php:341</a></div></div>
<div class="ttc" id="class_ini_data_html_aba916688b0ed25a5ce09e801581a3fb4"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#aba916688b0ed25a5ce09e801581a3fb4">IniData\$statiqueTable</a></div><div class="ttdeci">$statiqueTable</div><div class="ttdoc">nom d&#39;une table déclaré &#39;statique&#39; </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00073">IniData.class.php:73</a></div></div>
<div class="ttc" id="class_ini_data_html_a531e17780099a2ac56658ccb363ce9ac"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a531e17780099a2ac56658ccb363ce9ac">IniData\getFaculFull</a></div><div class="ttdeci">getFaculFull()</div><div class="ttdoc">Tous les attributs facultatifs du contexte. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00834">IniData.class.php:834</a></div></div>
<div class="ttc" id="class_ini_data_html_a047ba417fd692ef36e1eef675d0ff1aa"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a047ba417fd692ef36e1eef675d0ff1aa">IniData\attributsTable</a></div><div class="ttdeci">attributsTable($nom_table)</div><div class="ttdoc">l&#39;ensemble des donnees requises et facul pour une table. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00732">IniData.class.php:732</a></div></div>
<div class="ttc" id="class_ini_data_html_aa208b5e1dcec332b38c53e8f0c350811"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#aa208b5e1dcec332b38c53e8f0c350811">IniData\magicNormHTTP</a></div><div class="ttdeci">magicNormHTTP($tableau)</div><div class="ttdoc">Traitement des échappement automatiques. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00678">IniData.class.php:678</a></div></div>
<div class="ttc" id="class_ini_data_html_a71fde18e9759b36cc5c796781c6dd2d8"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a71fde18e9759b36cc5c796781c6dd2d8">IniData\attributsFacul</a></div><div class="ttdeci">attributsFacul($nom_table)</div><div class="ttdoc">Les donnes facultatives pour une table selon contexte dynamique, orientation formulaire (client)...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00711">IniData.class.php:711</a></div></div>
<div class="ttc" id="class_ini_data_html_ab4a8e3a3199135154e97e1edd420e78a"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#ab4a8e3a3199135154e97e1edd420e78a">IniData\$table</a></div><div class="ttdeci">$table</div><div class="ttdoc">nom d&#39;une table sql </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00077">IniData.class.php:77</a></div></div>
<div class="ttc" id="class_ini_data_html_aed704d9e07f57d8f6be19acd510c0b9f"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#aed704d9e07f57d8f6be19acd510c0b9f">IniData\__construct</a></div><div class="ttdeci">__construct($contexte=NULL, $statut=NULL)</div><div class="ttdoc">Constructeur : initialise le nom du statut (facultatif), le nom du contexte(facultatif) et une instan...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00089">IniData.class.php:89</a></div></div>
<div class="ttc" id="class_ini_data_html_a3263e3777aa60ccc25bdfebfb8cffac0"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a3263e3777aa60ccc25bdfebfb8cffac0">IniData\$statiqueChamps</a></div><div class="ttdeci">$statiqueChamps</div><div class="ttdoc">nom d&#39;une colonne sql &#39;statique&#39; </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00074">IniData.class.php:74</a></div></div>
<div class="ttc" id="class_ini_data_html_ac0eb41cb9195d4eeb28a9e155f9f1965"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#ac0eb41cb9195d4eeb28a9e155f9f1965">IniData\schemaTable</a></div><div class="ttdeci">schemaTable($nom_table)</div><div class="ttdoc">Execute la méthode privee showColumns ou lit le fichier .ini. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00657">IniData.class.php:657</a></div></div>
<div class="ttc" id="class_ini_data_html_a3a309782f419ed086612c58141181d29"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a3a309782f419ed086612c58141181d29">IniData\$arrayStatuts</a></div><div class="ttdeci">$arrayStatuts</div><div class="ttdoc">tableau des statuts </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00028">IniData.class.php:28</a></div></div>
<div class="ttc" id="class_ini_data_html_aae769db027c062dc6756e8989a6b019e"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#aae769db027c062dc6756e8989a6b019e">IniData\getOblig</a></div><div class="ttdeci">getOblig()</div><div class="ttdoc">Tous les champs obligatoires du contexte. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00848">IniData.class.php:848</a></div></div>
<div class="ttc" id="class_ini_data_html_a2d400f9e08272d8d42df32717d0217e4"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a2d400f9e08272d8d42df32717d0217e4">IniData\$liensCles</a></div><div class="ttdeci">$liensCles</div><div class="ttdoc">tableau avec toutes les Foreign Key(FK) du contexte </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00059">IniData.class.php:59</a></div></div>
<div class="ttc" id="class_ini_data_html_aa5debdb64b07c259f3406f90e8c331ea"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#aa5debdb64b07c259f3406f90e8c331ea">IniData\$extraFK</a></div><div class="ttdeci">$extraFK</div><div class="ttdoc">tableau des clés FK &#39;extra&#39; </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00043">IniData.class.php:43</a></div></div>
<div class="ttc" id="class_ini_data_html_a224bac6bff01494b4097e3e4f23b6537"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a224bac6bff01494b4097e3e4f23b6537">IniData\$statut</a></div><div class="ttdeci">$statut</div><div class="ttdoc">statut de fonctionnement du système </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00072">IniData.class.php:72</a></div></div>
<div class="ttc" id="class_ini_data_html_adf55facb516d584775e31602eb222bb7"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#adf55facb516d584775e31602eb222bb7">IniData\calculDataPassive</a></div><div class="ttdeci">calculDataPassive($table, $fichier)</div><div class="ttdoc">Creation du fichier ini pour les &#39;champs passifs&#39; selon un nom de table et un nom de fichier...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00297">IniData.class.php:297</a></div></div>
<div class="ttc" id="class_ini_data_html_af9c3fd549f89221a04075cec0f625a7a"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#af9c3fd549f89221a04075cec0f625a7a">IniData\$schema</a></div><div class="ttdeci">$schema</div><div class="ttdoc">tableau rassemblant le schema d&#39;une table </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00066">IniData.class.php:66</a></div></div>
<div class="ttc" id="class_ini_data_html"><div class="ttname"><a href="../../d9/d12/class_ini_data.html">IniData</a></div><div class="ttdoc">initier la connexion à DB et charger le bon contexte. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00025">IniData.class.php:25</a></div></div>
<div class="ttc" id="class_ini_data_html_ab44b8cf01b371c6d9e80ec3c88789103"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#ab44b8cf01b371c6d9e80ec3c88789103">IniData\getTables</a></div><div class="ttdeci">getTables($dynonly=NULL)</div><div class="ttdoc">Retourne le nom des tables dynamiques du contexte en cours. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00781">IniData.class.php:781</a></div></div>
<div class="ttc" id="class_ini_data_html_a7514b56e424ed4485a4042e2a3e0ae70"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a7514b56e424ed4485a4042e2a3e0ae70">IniData\$schemaDataStatique</a></div><div class="ttdeci">$schemaDataStatique</div><div class="ttdoc">tableau resultat de calculDataStatique() </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00070">IniData.class.php:70</a></div></div>
<div class="ttc" id="class_ini_data_html_a7a47895cf23878aa7f1bddfbd13505ee"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a7a47895cf23878aa7f1bddfbd13505ee">IniData\getListeAttr</a></div><div class="ttdeci">getListeAttr()</div><div class="ttdoc">Retourne un array() de tous les attributs attendus d&#39;un contexte:dynamiques et statiques Fait la meme...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00819">IniData.class.php:819</a></div></div>
<div class="ttc" id="class_ini_data_html_ad71ca8a1276418b2ef69aacadfe5ff31"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#ad71ca8a1276418b2ef69aacadfe5ff31">IniData\$dataOblig</a></div><div class="ttdeci">$dataOblig</div><div class="ttdoc">tableau des colonnes obligtoires </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00034">IniData.class.php:34</a></div></div>
<div class="ttc" id="class_ini_data_html_a08f4ea96fa476dd39b052f5d7ae5810a"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a08f4ea96fa476dd39b052f5d7ae5810a">IniData\chargerContexte</a></div><div class="ttdeci">chargerContexte($contexte, $statut)</div><div class="ttdoc">Chargement du fichier $this-&gt;fileContexte, crée un fichier .ini pour tout le contexte (multi table)...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00370">IniData.class.php:370</a></div></div>
<div class="ttc" id="class_ini_data_html_ab0d9d34c94832a4e0521aa824425c221"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#ab0d9d34c94832a4e0521aa824425c221">IniData\$arrayContextes</a></div><div class="ttdeci">$arrayContextes</div><div class="ttdoc">tableau des contextes </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00029">IniData.class.php:29</a></div></div>
<div class="ttc" id="class_uni_connect_html_abefffd135454315cee29d6f485444d8d"><div class="ttname"><a href="../../df/d0a/class_uni_connect.html#abefffd135454315cee29d6f485444d8d">UniConnect\getInstance</a></div><div class="ttdeci">static getInstance()</div><div class="ttdoc">crée et retourne l&#39;objet PDO </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dec/_uni_connect_8class_8php_source.html#l00036">UniConnect.class.php:36</a></div></div>
<div class="ttc" id="class_ini_data_html_a74d06b0888431920db3db9dab278994c"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a74d06b0888431920db3db9dab278994c">IniData\$schemaPassive</a></div><div class="ttdeci">$schemaPassive</div><div class="ttdoc">tableau rassemblant le schema sql d&#39;une table &#39;passive&#39; </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00068">IniData.class.php:68</a></div></div>
<div class="ttc" id="class_ini_data_html_a2e0d4a847d634fed744302612c833df5"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a2e0d4a847d634fed744302612c833df5">IniData\$statiquePK</a></div><div class="ttdeci">$statiquePK</div><div class="ttdoc">string : cle PK d&#39;une table statique </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00075">IniData.class.php:75</a></div></div>
<div class="ttc" id="class_ini_data_html_aa674bf5a521cdfc1b2845285bc190fb0"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#aa674bf5a521cdfc1b2845285bc190fb0">IniData\rechargerContexte</a></div><div class="ttdeci">rechargerContexte($contexte, $statut)</div><div class="ttdoc">Comment recharger un contexte? On efface les données produites par chargerContexte() et on rappelle c...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00633">IniData.class.php:633</a></div></div>
<div class="ttc" id="class_ini_data_html_ad87025ddebbedbc62a6d535b95897a9c"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#ad87025ddebbedbc62a6d535b95897a9c">IniData\aposentite</a></div><div class="ttdeci">aposentite($chaine)</div><div class="ttdoc">methode de detection et traitement des apostrophes entitisés. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00282">IniData.class.php:282</a></div></div>
<div class="ttc" id="class_ini_data_html_a06f7f26bd358d3e45330b3dd51c76ecb"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a06f7f26bd358d3e45330b3dd51c76ecb">IniData\$fileContexte</a></div><div class="ttdeci">$fileContexte</div><div class="ttdoc">fichier.ini de configuration du contexte </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00049">IniData.class.php:49</a></div></div>
<div class="ttc" id="class_ini_data_html_a52afd0a4d355f8802d3cea43b7a172a6"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a52afd0a4d355f8802d3cea43b7a172a6">IniData\$fileLiaisonTable</a></div><div class="ttdeci">$fileLiaisonTable</div><div class="ttdoc">fichier cache.ini lié à une table sql &#39;de liaison&#39; </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00051">IniData.class.php:51</a></div></div>
<div class="ttc" id="class_uni_connect_html"><div class="ttname"><a href="../../df/d0a/class_uni_connect.html">UniConnect</a></div><div class="ttdoc">un singleton pour gérer une unique connexion sql par appel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dec/_uni_connect_8class_8php_source.html#l00011">UniConnect.class.php:11</a></div></div>
<div class="ttc" id="class_ini_data_html_a631ea83fd163ed7d847b62dd49fa8672"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a631ea83fd163ed7d847b62dd49fa8672">IniData\$dynTables</a></div><div class="ttdeci">$dynTables</div><div class="ttdoc">tableau des tables sql dynamiques selon contexte.ini </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00037">IniData.class.php:37</a></div></div>
<div class="ttc" id="class_ini_data_html_a0d32207b561cb806872adefb97f69540"><div class="ttname"><a href="../../d9/d12/class_ini_data.html#a0d32207b561cb806872adefb97f69540">IniData\$liaisonFKP</a></div><div class="ttdeci">$liaisonFKP</div><div class="ttdoc">tableau :colonnes pointées par les clés liaisonFK </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/_ini_data_8class_8php_source.html#l00056">IniData.class.php:56</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_d767fe22b57159f4fd787213b96ce7d5.html">vapspace</a></li><li class="navelem"><a class="el" href="../../dir_76f06f0a155a1018742715756bfdb8f4.html">vaplib</a></li><li class="navelem"><a class="el" href="../../d9/d30/_ini_data_8class_8php.html">IniData.class.php</a></li>
    <li class="footer">Généré le Vendredi 12 Septembre 2014 17:43:58 pour Vapspace par
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
